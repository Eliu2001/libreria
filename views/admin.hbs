<div class="container my-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Gesti√≥n de Inventario</h2>
        <div>
            <a href="/admin" class="btn btn-primary me-2">
                <i class="bi bi-speedometer2"></i> Dashboard
            </a>
            <a href="/admin/pedidos" class="btn btn-info text-white me-2">
                <i class="bi bi-bag-check"></i> Ver Pedidos
            </a>
            <a href="/admin/categorias" class="btn btn-warning me-2">
                üìÅ Categor√≠as
            </a>
            <a href="/admin/books/new" class="btn btn-success">
                <i class="bi bi-plus-circle"></i> Agregar Libro
            </a>
        </div>
    </div>

<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>T√≠tulo</th>
      <th>Autor</th>
      <th>Categor√≠as</th>
      <th>Precio</th>
      <th>Stock Disponible</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {{#each books}}
      <tr>
        <td>{{this.id}}</td>
        <td>{{this.nombre}}</td>
        <td>{{this.autor}}</td>
        <td>
          {{#if this.categories.length}}
            {{#each this.categories}}
              <span class="badge bg-secondary me-1">{{this.nombre}}</span>
            {{/each}}
          {{else}}
            <span class="text-muted">-</span>
          {{/if}}
        </td>
        <td>${{this.precio}}</td>
        <td>{{this.cantidad_disponible}}</td>
        <td>
          <a href="/admin/books/{{this.id}}/edit" class="btn btn-sm btn-primary">Editar</a>
          <form action="/admin/books/{{this.id}}/delete" method="POST" style="display: inline;">
            <button class="btn btn-sm btn-danger" onclick="return confirm('¬øEst√°s seguro de eliminar este libro?')">Eliminar</button>
          </form>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>
</div>

{{#unless books.length}}
  <div class="alert alert-info">No hay libros en el inventario</div>
{{/unless}}
