<h2>Editar Libro</h2>

<form method="POST" action="/admin/books/{{book.id}}/edit">
  <div class="mb-3">
    <label class="form-label">Título del Libro</label>
    <input type="text" class="form-control" name="nombre" value="{{book.nombre}}" required>
  </div>
  
  <div class="mb-3">
    <label class="form-label">Autor</label>
    <input type="text" class="form-control" name="autor" value="{{book.autor}}">
  </div>
  
  <div class="mb-3">
    <label class="form-label">Precio</label>
    <input type="number" step="0.01" class="form-control" name="precio" value="{{book.precio}}" required>
  </div>
  
  <div class="mb-3">
    <label class="form-label">Descripción</label>
    <textarea class="form-control" name="descripcion" rows="3">{{book.descripcion}}</textarea>
  </div>
  
  <div class="mb-3">
    <label class="form-label">Cantidad en Stock</label>
    <input type="number" class="form-control" name="cantidad_disponible" min="0" value="{{book.cantidad_disponible}}" required>
  </div>
  
  <div class="mb-3">
    <label class="form-label">Categorías</label>
    <select class="form-select" name="categories" multiple size="5">
      {{#each categories}}
        <option value="{{this.id}}" {{#if (includes ../bookCategoryIds this.id)}}selected{{/if}}>{{this.nombre}}</option>
      {{/each}}
    </select>
    <small class="form-text text-muted">Mantén presionado Ctrl (Cmd en Mac) para seleccionar múltiples categorías</small>
  </div>
  
  <button type="submit" class="btn btn-primary">Actualizar Libro</button>
  <a href="/admin/inventario" class="btn btn-secondary">Cancelar</a>
</form>
